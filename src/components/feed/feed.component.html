<div class="max-w-4xl mx-auto p-4 space-y-6">

  <div *ngFor="let post of posts" class="p-4 border rounded shadow hover:shadow-md transition">
    <h3 class="text-xl font-semibold mb-2">{{ post.title }}</h3>

    <p class="mb-2">{{ post.content }}</p>

    <p class="text-sm text-gray-600 mb-2">
      By {{ post.author?.firstName }} {{ post.author?.lastName }} on {{ post.createdAt | date:'medium' }}
    </p>

    <div *ngIf="post.image" class="mb-2">
      <img [src]="post.image" alt="Post image" class="max-h-60 w-full object-cover rounded" />
    </div>

    <div *ngIf="post.tags?.length" class="mb-2 space-x-1">
      <span *ngFor="let tag of post.tags" class="inline-block bg-blue-200 text-blue-800 px-2 py-1 rounded text-xs">
        {{ tag }}
      </span>
    </div>

    <div *ngIf="post.comments?.length" class="border-t pt-2 mt-2">
      <h4 class="text-sm font-semibold mb-1">Comments ({{ post.comments.length }})</h4>
      <div *ngFor="let comment of post.comments" class="mb-1 text-sm">
        <strong>{{ comment.author?.firstName }} {{ comment.author?.lastName }}:</strong> {{ comment.content }}
      </div>
    </div>
  </div>

  <div *ngIf="isLoading" class="flex justify-center mt-6">
    <app-loading-spinner></app-loading-spinner>
  </div>

  <div *ngIf="!isLoading && posts.length === 0" class="text-center text-gray-500 mt-10">
    No posts found.
  </div>
</div>
